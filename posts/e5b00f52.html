<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>初识samba和简单使用 | rminit's blog</title><meta name="author" content="rminit"><meta name="copyright" content="rminit"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="最近有将电脑主机机械磁盘的内容共享到局域网供其他设备使用的需求，比如电视观看电脑上下载好的视频，通过万能的Google之后，我了解到Linux系统可以通过samba来实现这个功能。下面是我对samba的一些简单使用： sambasamba 是用于 Linux 和 Unix 的标准 Windows 互操作性程序套件。自 1992 年以来，Samba 为所有使用 SMB/CIFS协议的客户端">
<meta property="og:type" content="article">
<meta property="og:title" content="初识samba和简单使用">
<meta property="og:url" content="https://rminit.github.io/posts/e5b00f52.html">
<meta property="og:site_name" content="rminit's blog">
<meta property="og:description" content="最近有将电脑主机机械磁盘的内容共享到局域网供其他设备使用的需求，比如电视观看电脑上下载好的视频，通过万能的Google之后，我了解到Linux系统可以通过samba来实现这个功能。下面是我对samba的一些简单使用： sambasamba 是用于 Linux 和 Unix 的标准 Windows 互操作性程序套件。自 1992 年以来，Samba 为所有使用 SMB/CIFS协议的客户端">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://www.loliapi.com/acg/pc/?8069">
<meta property="article:published_time" content="2024-10-26T17:11:16.000Z">
<meta property="article:modified_time" content="2025-01-15T16:01:59.783Z">
<meta property="article:author" content="rminit">
<meta property="article:tag" content="linux">
<meta property="article:tag" content="samba">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.loliapi.com/acg/pc/?8069"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://rminit.github.io/posts/e5b00f52.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '初识samba和简单使用',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  isShuoshuo: false
}</script><link rel="stylesheet" href="/css/modify.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div id="web_bg" style="background-image: url(/img/background.jpg);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">39</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">14</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">13</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/top_img.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">rminit's blog</span></a><a class="nav-page-title" href="/"><span class="site-name">初识samba和简单使用</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">初识samba和简单使用</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-10-26T17:11:16.000Z" title="发表于 2024-10-27 01:11:16">2024-10-27</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-01-15T16:01:59.783Z" title="更新于 2025-01-16 00:01:59">2025-01-16</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><div class="top-img" style="background-image: url(/img/top_img.jpg);"></div><article class="container post-content" id="article-container"><p>最近有将电脑主机机械磁盘的内容共享到局域网供其他设备使用的需求，比如电视观看电脑上下载好的视频，通过万能的Google之后，我了解到Linux系统可以通过samba来实现这个功能。<br>下面是我对samba的一些简单使用：</p>
<h2 id="samba"><a href="#samba" class="headerlink" title="samba"></a>samba</h2><p><a target="_blank" rel="noopener" href="https://www.samba.org/">samba</a> 是用于 Linux 和 Unix 的标准 Windows 互操作性程序套件。<br>自 1992 年以来，Samba 为所有使用 <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Server_Message_Block">SMB/CIFS</a><br>协议的客户端提供了安全、稳定和快速的文件和打印服务，<br>例如所有版本的 DOS 和 Windows、OS/2、Linux 和许多其他系统。</p>
<h2 id="samba的简单使用"><a href="#samba的简单使用" class="headerlink" title="samba的简单使用"></a>samba的简单使用</h2><h3 id="安装samba"><a href="#安装samba" class="headerlink" title="安装samba"></a>安装samba</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> pacman -S samba</span><br></pre></td></tr></tbody></table></figure>

<h3 id="创建samba账户"><a href="#创建samba账户" class="headerlink" title="创建samba账户"></a>创建samba账户</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> smbpasswd -a rminit</span><br></pre></td></tr></tbody></table></figure>

<div class="note info simple"><p>注意创建samba账户时，需要创建linux账户</p>
</div>

<h3 id="创建smb配置文件"><a href="#创建smb配置文件" class="headerlink" title="创建smb配置文件"></a>创建smb配置文件</h3><p>samba 服务的配置文件 <code>/etc/samba/smb.conf</code>，安装samba后，默认不存在这个文件<br>需要从 <a target="_blank" rel="noopener" href="https://git.samba.org/samba.git/?p=samba.git;a=blob_plain;f=examples/smb.conf.default;hb=HEAD">Samba 的 Git 仓库</a></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br></pre></td><td class="code"><pre><span class="line"># This is the main Samba configuration file. You should read the</span><br><span class="line"># smb.conf(5) manual page in order to understand the options listed</span><br><span class="line"># here. Samba has a huge number of configurable options (perhaps too</span><br><span class="line"># many!) most of which are not shown in this example</span><br><span class="line">#</span><br><span class="line"># For a step to step guide on installing, configuring and using samba,</span><br><span class="line"># read the Samba-HOWTO-Collection. This may be obtained from:</span><br><span class="line">#  http://www.samba.org/samba/docs/Samba-HOWTO-Collection.pdf</span><br><span class="line">#</span><br><span class="line"># Many working examples of smb.conf files can be found in the</span><br><span class="line"># Samba-Guide which is generated daily and can be downloaded from:</span><br><span class="line">#  http://www.samba.org/samba/docs/Samba-Guide.pdf</span><br><span class="line">#</span><br><span class="line"># Any line which starts with a ; (semi-colon) or a # (hash)</span><br><span class="line"># is a comment and is ignored. In this example we will use a #</span><br><span class="line"># for commentry and a ; for parts of the config file that you</span><br><span class="line"># may wish to enable</span><br><span class="line">#</span><br><span class="line"># NOTE: Whenever you modify this file you should run the command "testparm"</span><br><span class="line"># to check that you have not made any basic syntactic errors.</span><br><span class="line">#</span><br><span class="line">#======================= Global Settings =====================================</span><br><span class="line">[global]</span><br><span class="line"></span><br><span class="line"># workgroup = NT-Domain-Name or Workgroup-Name, eg: MIDEARTH</span><br><span class="line">   workgroup = MYGROUP</span><br><span class="line"></span><br><span class="line"># server string is the equivalent of the NT Description field</span><br><span class="line">   server string = Samba Server</span><br><span class="line"></span><br><span class="line"># Server role. Defines in which mode Samba will operate. Possible</span><br><span class="line"># values are "standalone server", "member server", "classic primary</span><br><span class="line"># domain controller", "classic backup domain controller", "active</span><br><span class="line"># directory domain controller".</span><br><span class="line">#</span><br><span class="line"># Most people will want "standalone server" or "member server".</span><br><span class="line"># Running as "active directory domain controller" will require first</span><br><span class="line"># running "samba-tool domain provision" to wipe databases and create a</span><br><span class="line"># new domain.</span><br><span class="line">   server role = standalone server</span><br><span class="line"></span><br><span class="line"># This option is important for security. It allows you to restrict</span><br><span class="line"># connections to machines which are on your local network. The</span><br><span class="line"># following example restricts access to two C class networks and</span><br><span class="line"># the "loopback" interface. For more examples of the syntax see</span><br><span class="line"># the smb.conf man page</span><br><span class="line">;   hosts allow = 192.168.1. 192.168.2. 127.</span><br><span class="line"></span><br><span class="line"># Uncomment this if you want a guest account, you must add this to /etc/passwd</span><br><span class="line"># otherwise the user "nobody" is used</span><br><span class="line">;  guest account = pcguest</span><br><span class="line"></span><br><span class="line"># this tells Samba to use a separate log file for each machine</span><br><span class="line"># that connects</span><br><span class="line">   log file = /usr/local/samba/var/log.%m</span><br><span class="line"></span><br><span class="line"># Put a capping on the size of the log files (in Kb).</span><br><span class="line">   max log size = 50</span><br><span class="line"></span><br><span class="line"># Specifies the Kerberos or Active Directory realm the host is part of</span><br><span class="line">;   realm = MY_REALM</span><br><span class="line"></span><br><span class="line"># Backend to store user information in. New installations should</span><br><span class="line"># use either tdbsam or ldapsam. smbpasswd is available for backwards</span><br><span class="line"># compatibility. tdbsam requires no further configuration.</span><br><span class="line">;   passdb backend = tdbsam</span><br><span class="line"></span><br><span class="line"># Using the following line enables you to customise your configuration</span><br><span class="line"># on a per machine basis. The %m gets replaced with the netbios name</span><br><span class="line"># of the machine that is connecting.</span><br><span class="line"># Note: Consider carefully the location in the configuration file of</span><br><span class="line">#       this line.  The included file is read at that point.</span><br><span class="line">;   include = /usr/local/samba/lib/smb.conf.%m</span><br><span class="line"></span><br><span class="line"># Configure Samba to use multiple interfaces</span><br><span class="line"># If you have multiple network interfaces then you must list them</span><br><span class="line"># here. See the man page for details.</span><br><span class="line">;   interfaces = 192.168.12.2/24 192.168.13.2/24</span><br><span class="line"></span><br><span class="line"># Where to store roving profiles (only for Win95 and WinNT)</span><br><span class="line">#        %L substitutes for this servers netbios name, %U is username</span><br><span class="line">#        You must uncomment the [Profiles] share below</span><br><span class="line">;   logon path = \\%L\Profiles\%U</span><br><span class="line"></span><br><span class="line"># Windows Internet Name Serving Support Section:</span><br><span class="line"># WINS Support - Tells the NMBD component of Samba to enable it's WINS Server</span><br><span class="line">;   wins support = yes</span><br><span class="line"></span><br><span class="line"># WINS Server - Tells the NMBD components of Samba to be a WINS Client</span><br><span class="line"># Note: Samba can be either a WINS Server, or a WINS Client, but NOT both</span><br><span class="line">;   wins server = w.x.y.z</span><br><span class="line"></span><br><span class="line"># WINS Proxy - Tells Samba to answer name resolution queries on</span><br><span class="line"># behalf of a non WINS capable client, for this to work there must be</span><br><span class="line"># at least one WINS Server on the network. The default is NO.</span><br><span class="line">;   wins proxy = yes</span><br><span class="line"></span><br><span class="line"># DNS Proxy - tells Samba whether or not to try to resolve NetBIOS names</span><br><span class="line"># via DNS nslookups. The default is NO.</span><br><span class="line">   dns proxy = no</span><br><span class="line"></span><br><span class="line"># These scripts are used on a domain controller or stand-alone</span><br><span class="line"># machine to add or delete corresponding unix accounts</span><br><span class="line">;  add user script = /usr/sbin/useradd %u</span><br><span class="line">;  add group script = /usr/sbin/groupadd %g</span><br><span class="line">;  add machine script = /usr/sbin/adduser -n -g machines -c Machine -d /dev/null -s /bin/false %u</span><br><span class="line">;  delete user script = /usr/sbin/userdel %u</span><br><span class="line">;  delete user from group script = /usr/sbin/deluser %u %g</span><br><span class="line">;  delete group script = /usr/sbin/groupdel %g</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#============================ Share Definitions ==============================</span><br><span class="line">[homes]</span><br><span class="line">   comment = Home Directories</span><br><span class="line">   browsable = no</span><br><span class="line">   writable = yes</span><br><span class="line"></span><br><span class="line"># Un-comment the following and create the netlogon directory for Domain Logons</span><br><span class="line">; [netlogon]</span><br><span class="line">;   comment = Network Logon Service</span><br><span class="line">;   path = /usr/local/samba/lib/netlogon</span><br><span class="line">;   guest ok = yes</span><br><span class="line">;   writable = no</span><br><span class="line">;   share modes = no</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Un-comment the following to provide a specific roving profile share</span><br><span class="line"># the default is to use the user's home directory</span><br><span class="line">;[Profiles]</span><br><span class="line">;    path = /usr/local/samba/profiles</span><br><span class="line">;    browsable = no</span><br><span class="line">;    guest ok = yes</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># NOTE: If you have a BSD-style print system there is no need to</span><br><span class="line"># specifically define each individual printer</span><br><span class="line">[printers]</span><br><span class="line">   comment = All Printers</span><br><span class="line">   path = /usr/spool/samba</span><br><span class="line">   browsable = no</span><br><span class="line"># Change 'guest ok' from 'no' to 'yes' to allow the 'guest account' user to print</span><br><span class="line">   guest ok = no</span><br><span class="line">   writable = no</span><br><span class="line">   printable = yes</span><br><span class="line"></span><br><span class="line"># This one is useful for people to share files</span><br><span class="line">;[tmp]</span><br><span class="line">;   comment = Temporary file space</span><br><span class="line">;   path = /tmp</span><br><span class="line">;   read only = no</span><br><span class="line">;   public = yes</span><br><span class="line"></span><br><span class="line"># A publicly accessible directory, but read only, except for people in</span><br><span class="line"># the "staff" group</span><br><span class="line">;[public]</span><br><span class="line">;   comment = Public Stuff</span><br><span class="line">;   path = /home/samba</span><br><span class="line">;   public = yes</span><br><span class="line">;   writable = no</span><br><span class="line">;   printable = no</span><br><span class="line">;   write list = @staff</span><br><span class="line"></span><br><span class="line"># Other examples.</span><br><span class="line">#</span><br><span class="line"># A private printer, usable only by fred. Spool data will be placed in fred's</span><br><span class="line"># home directory. Note that fred must have write access to the spool directory,</span><br><span class="line"># wherever it is.</span><br><span class="line">;[fredsprn]</span><br><span class="line">;   comment = Fred's Printer</span><br><span class="line">;   valid users = fred</span><br><span class="line">;   path = /homes/fred</span><br><span class="line">;   printer = freds_printer</span><br><span class="line">;   public = no</span><br><span class="line">;   writable = no</span><br><span class="line">;   printable = yes</span><br><span class="line"></span><br><span class="line"># A private directory, usable only by fred. Note that fred requires write</span><br><span class="line"># access to the directory.</span><br><span class="line">;[fredsdir]</span><br><span class="line">;   comment = Fred's Service</span><br><span class="line">;   path = /usr/somewhere/private</span><br><span class="line">;   valid users = fred</span><br><span class="line">;   public = no</span><br><span class="line">;   writable = yes</span><br><span class="line">;   printable = no</span><br><span class="line"></span><br><span class="line"># a service which has a different directory for each machine that connects</span><br><span class="line"># this allows you to tailor configurations to incoming machines. You could</span><br><span class="line"># also use the %U option to tailor it by user name.</span><br><span class="line"># The %m gets replaced with the machine name that is connecting.</span><br><span class="line">;[pchome]</span><br><span class="line">;  comment = PC Directories</span><br><span class="line">;  path = /usr/pc/%m</span><br><span class="line">;  public = no</span><br><span class="line">;  writable = yes</span><br><span class="line"></span><br><span class="line"># A publicly accessible directory, read/write to all users. Note that all files</span><br><span class="line"># created in the directory by users will be owned by the default user, so</span><br><span class="line"># any user with access can delete any other user's files. Obviously this</span><br><span class="line"># directory must be writable by the default user. Another user could of course</span><br><span class="line"># be specified, in which case all files would be owned by that user instead.</span><br><span class="line">;[public]</span><br><span class="line">;   path = /usr/somewhere/else/public</span><br><span class="line">;   public = yes</span><br><span class="line">;   only guest = yes</span><br><span class="line">;   writable = yes</span><br><span class="line">;   printable = no</span><br><span class="line"></span><br><span class="line"># The following two entries demonstrate how to share a directory so that two</span><br><span class="line"># users can place files there that will be owned by the specific users. In this</span><br><span class="line"># setup, the directory should be writable by both users and should have the</span><br><span class="line"># sticky bit set on it to prevent abuse. Obviously this could be extended to</span><br><span class="line"># as many users as required.</span><br><span class="line">;[myshare]</span><br><span class="line">;   comment = Mary's and Fred's stuff</span><br><span class="line">;   path = /usr/somewhere/shared</span><br><span class="line">;   valid users = mary fred</span><br><span class="line">;   public = no</span><br><span class="line">;   writable = yes</span><br><span class="line">;   printable = no</span><br><span class="line">;   create mask = 0765</span><br></pre></td></tr></tbody></table></figure>

<h3 id="添加配置"><a href="#添加配置" class="headerlink" title="添加配置"></a>添加配置</h3><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[private]</span><br><span class="line">    path = /run/media/rminit/data/private/Videos/</span><br><span class="line">    read only = No</span><br><span class="line">    browseable = yes</span><br><span class="line">    valid users = rminit </span><br><span class="line">    write list = rminit</span><br></pre></td></tr></tbody></table></figure>

<div class="note success simple"><p>这样就完成了samba基本分享服务</p>
</div>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://rminit.github.io">rminit</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://rminit.github.io/posts/e5b00f52.html">https://rminit.github.io/posts/e5b00f52.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://rminit.github.io" target="_blank">rminit's blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/linux/">linux</a><a class="post-meta__tags" href="/tags/samba/">samba</a></div><div class="post-share"><div class="social-share" data-image="https://www.loliapi.com/acg/pc/?8069" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer=""></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/posts/629787b4.html" title="Hexo生成永久链接"><img class="cover" src="https://www.loliapi.com/acg/pc/?199" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">Hexo生成永久链接</div></div><div class="info-2"><div class="info-item-1">Hexo 文章链接默认的生成规则是：:year/:month/:day/:title一旦我们修改了时间或者文章标题，那么就会导致链接改变从而造成分享出去的页面404解决办法是通过安装永久链接插件来解决这个问题。 安装插件1npm install hexo-abbrlink --save  修改全局配置文件_config.yml修改如下: 12## permalink: :year/:month/:day/:title/permalink: posts/:abbrlink.html  ## 此处可以自己设置  并增加以下内容： 1234567891011121314## abbrlink configabbrlink:  alg: crc32      #support crc16(default) and crc32 进制  rep: hex        #support dec(default) and hex  算法  drafts: false   #(true)Process draft,(false)Do not process draft....</div></div></div></a><a class="pagination-related" href="/posts/90a0a686.html" title="Python.d7"><img class="cover" src="https://www.loliapi.com/acg/pc/?6865" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">Python.d7</div></div><div class="info-2"><div class="info-item-1">数据容器总结数据容器分类 是否支持下标索引 支持：list，tuple，string 不支持：set，dict   是否支持重复元素 支持：list,tuple,string 不支持：set，dict   是否可以修改 支持：list，set, dict 不支持：tuple,string    数据容器应用场景 列表：一批数据，可修改，可重复场景 元组：一批数据，不可修改，可重复的存储场景 字符串：一串字符串的存储场景 集合：一批数据，去重存储场景 字典：一篇数据，可用key检索value的存储场景  数据容器的通用操作数据容器的遍历操作 5类数据都支持for循环 列表，元组，字符串支持while循环，集合，字典不支持（不支持下标索引）  数据容器的统计操作 len(容器) 统计元素个数 max(容器) 统计元素最大值 min(容器) 统计元素最小值  数据容器的转换操作 list() str() tuple() set()  数据容器的排序操作1sorted(容器,[reverse=True])  sorted()会将容器正向排序，reverse = True则逆向排序  </div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/posts/3860175b.html" title="Linux上的「Android模拟器」"><img class="cover" src="https://www.loliapi.com/acg/pc/?7753" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-11-09</div><div class="info-item-2">Linux上的「Android模拟器」</div></div><div class="info-2"><div class="info-item-1">前言仍在使用Windows的时候，我使用网易uu模拟器来游玩一些手机游戏，但是在切换到linux后，我发现虽然Android基于linux内核修改而来，但是linux上却不像Windows那样有着众多开箱即用的「安卓模拟器」，但是在linux上只要你愿意折腾，你还是能够通过安装各种开源组件来达到模拟器效果的，下面是一些我收集而来的关于安卓模拟器的开源软件 Android-x86虚拟机Android-x86虚拟机发源已久，它能够安装到实机和虚拟机上。特性：  授权条款：Apache 几乎是开源软件组成的解决方案，没有广告 Android-x86是完整系统，包括Android7~andro12 支持ARM到x86的转译，支持更多的游戏 不用直通GPU也能用VirGL达到3D硬件加速 有多开潜力 内建Google...</div></div></div></a><a class="pagination-related" href="/posts/f39157dd.html" title="安装Waydroid"><img class="cover" src="https://www.loliapi.com/acg/pc/?7925" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-11-10</div><div class="info-item-2">安装Waydroid</div></div><div class="info-2"><div class="info-item-1">我的桌面环境OS : Arch Linux x86_64 Kernel : Linux 6.12.4-zen1-1-zen Packages : 1025 (pacman), 37 (flatpak-user) Display : 2560x1440 @ 60 Hz in 27 " [External] Display : 1920x1080 @ 60 Hz (as 1280x720) in 15 " [Built-in] WM : Hyprland (Wayland) Terminal : kitty 0.37.0 CPU : Intel(R) Core(TM) i3-8100 GPU : GeForce GTX 1050 Mobile GPU : UHD Graphics 630 GPU Driver : nvidia (proprietary) 565.77 GPU Driver : i915 Memory : 6.25 GiB / 23.35 GiB (27%) OS Age  : 27 days Uptime  : 9 hours, 9...</div></div></div></a><a class="pagination-related" href="/posts/251c7100.html" title="开始使用neovim"><img class="cover" src="https://www.loliapi.com/acg/pc/?1842" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-10-15</div><div class="info-item-2">开始使用neovim</div></div><div class="info-2"><div class="info-item-1">开始使用neovim通过B站up主”TheCW”接触到”最强”代码编辑器：vim之后，我就对vim着迷了，但是在archlinux下，vim不能使用系统剪贴板，令我十分的苦恼。vim作为vi的复刻，neovim作为复刻的复刻，有其一些独特的特征作为Vim的改进版, 它使用Lua 作为配置文件,有着很现代化的特性, 解决了 Vim 的很多遗留问题… archlinux安装neovim1sudo pacman -S neovim  基本操作vim（nvim）四种操作模式  normal  默认模式 commend 命令模式 insert  输入模式 visible 可视模式  插件插件管理器: Lazy.vimLazyVim 是一个基于💤 lazy.nvim的Neovim配置方案，让定制和扩展变得简单直观。 您不必再在“从零配置”和“使用预制发行版”之间做选择，LazyVim 提供了一个两全其美的方式——既可以享受默认配置带来的便利，又能根据个人需求来灵活调整各项设置✨ 特性  🔥 将你的 Neovim 打造为一个功能完备的 IDE 💤 使用 lazy.nvim...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"></div><div class="author-info-name">rminit</div><div class="author-info-description">just for fun!</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">39</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">14</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">13</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/rminit"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/rminit" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:1606638705@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎光临小站，这里记录我的日常和学习笔记，希望对您有所帮助...</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#samba"><span class="toc-number">1.</span> <span class="toc-text">samba</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#samba%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8"><span class="toc-number">2.</span> <span class="toc-text">samba的简单使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85samba"><span class="toc-number">2.1.</span> <span class="toc-text">安装samba</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAsamba%E8%B4%A6%E6%88%B7"><span class="toc-number">2.2.</span> <span class="toc-text">创建samba账户</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAsmb%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">2.3.</span> <span class="toc-text">创建smb配置文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E9%85%8D%E7%BD%AE"><span class="toc-number">2.4.</span> <span class="toc-text">添加配置</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/63af09b.html" title="Hexo的备份和恢复"><img src="https://www.loliapi.com/acg/pc/?9954" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hexo的备份和恢复"></a><div class="content"><a class="title" href="/posts/63af09b.html" title="Hexo的备份和恢复">Hexo的备份和恢复</a><time datetime="2024-12-27T17:26:34.000Z" title="发表于 2024-12-28 01:26:34">2024-12-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/a22d1046.html" title="Hexo添加本地搜索功能"><img src="https://www.loliapi.com/acg/pc/?1553" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hexo添加本地搜索功能"></a><div class="content"><a class="title" href="/posts/a22d1046.html" title="Hexo添加本地搜索功能">Hexo添加本地搜索功能</a><time datetime="2024-12-25T06:19:24.000Z" title="发表于 2024-12-25 14:19:24">2024-12-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/a1a73a0d.html" title="Python.d14"><img src="https://www.loliapi.com/acg/pc/?8514" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python.d14"></a><div class="content"><a class="title" href="/posts/a1a73a0d.html" title="Python.d14">Python.d14</a><time datetime="2024-12-22T13:16:23.000Z" title="发表于 2024-12-22 21:16:23">2024-12-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/e10d4c29.html" title="Blender.d1"><img src="https://www.loliapi.com/acg/pc/?8525" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Blender.d1"></a><div class="content"><a class="title" href="/posts/e10d4c29.html" title="Blender.d1">Blender.d1</a><time datetime="2024-12-16T09:39:56.000Z" title="发表于 2024-12-16 17:39:56">2024-12-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/3fc3afae.html" title="Python.d13"><img src="https://www.loliapi.com/acg/pc/?9961" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python.d13"></a><div class="content"><a class="title" href="/posts/3fc3afae.html" title="Python.d13">Python.d13</a><time datetime="2024-12-12T05:11:33.000Z" title="发表于 2024-12-12 13:11:33">2024-12-12</time></div></div></div></div></div></div></main><footer id="footer" style="background: transparent;"><div id="footer-wrap"><div class="copyright">©2024 - 2025 By rminit</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script async="" data-pjax="" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div><hr><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>